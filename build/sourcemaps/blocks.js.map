{"version":3,"sources":["accordion/accordion.js","alphabet/alphabet.js","cards-block/cards-block.js","footer-menu/footer-menu.js","map-block/map-block.js","page-header/page-header.js","search-line/search-line.js","specials/specials.js","steps/steps.js","tabs/tabs.js","top-menu/top-menu.js","types-block/types-block.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA","file":"blocks.js","sourcesContent":["//accorion\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    document.addEventListener('click', function(e) {\r\n        let item = e.target.closest('.accordion__item-heading');\r\n        if (item < 1) return;\r\n        item.closest('.accordion__item').classList.toggle('is-open');\r\n    })\r\n});","//alphabet\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    let alphabets = document.querySelectorAll('.alphabet');\r\n    alphabets.forEach(function(alphabet){\r\n        let items = Array.prototype.slice.call(alphabet.querySelectorAll('.alphabet__item'));\r\n        let sortedItems = items.sort(function(a, b){\r\n            if(a.innerText<b.innerText) return -1;\r\n            if(a.innerText>b.innerText) return 1;\r\n            return 0;\r\n        });\r\n        alphabet.innerHTML = '';\r\n        let sectionLetter = null;\r\n        sortedItems.forEach(function (sortedItem, index) {\r\n            let currentLetter = sortedItem.innerText[0].toUpperCase();\r\n            if (currentLetter !== sectionLetter) {\r\n                alphabet.insertAdjacentHTML(\"beforeend\", \"<div class='alphabet__section'><div class='alphabet__letter'>\" + currentLetter+ \"</div><div class='alphabet__list'></div></div>\");\r\n                sectionLetter = currentLetter;\r\n            }\r\n            alphabet.lastChild.lastChild.append(sortedItem);\r\n        });\r\n    });\r\n});","//cards-block\r\n$(function() {\r\n    $('.cards-block').each(function() {\r\n        let $context = $(this);\r\n        let $slider = $('.cards-block__list', $context);\r\n        let options = {\r\n            infinite: false,\r\n            dots: true,\r\n            mobileFirst: true,\r\n            prevArrow: $('.cards-block__slider-arrow.button_prev', $context),\r\n            nextArrow: $('.cards-block__slider-arrow.button_next', $context),\r\n            appendDots: $('.cards-block__slider-pages', $context),\r\n            responsive: [{\r\n                breakpoint: 1025,\r\n                settings: \"unslick\"\r\n\r\n            }, {\r\n\r\n                breakpoint: 769,\r\n                settings: {\r\n                    slidesToShow: 3,\r\n                }\r\n\r\n            }, {\r\n\r\n                breakpoint: 525,\r\n                settings: {\r\n                    slidesToShow: 2\r\n                }\r\n\r\n            }, {\r\n\r\n                breakpoint: 300,\r\n                settings: {\r\n                    slidesToShow: 1\r\n                }\r\n\r\n            }\r\n            ]\r\n        };\r\n        function sliderGridFix() {\r\n            let parentWidth = $('.cards-block__content', $context).width();\r\n            let sliderListWidth = window.innerWidth>1024?'auto':parentWidth-45;\r\n            $slider.width(sliderListWidth);\r\n        }\r\n        $slider.on('init', function() {\r\n            sliderGridFix();\r\n        });\r\n\r\n        if (window.innerWidth < 1025) {\r\n            $slider.slick(options);\r\n        }\r\n        window.addEventListener('resize', function(event) {\r\n            if (!$slider.is('.slick-initialized') && (window.innerWidth < 1025)) {\r\n                $slider.slick(options);\r\n            } else {\r\n                sliderGridFix();\r\n            }\r\n        });\r\n    });\r\n});","//page-footer\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    document.addEventListener('click', function(e) {\r\n        if (e.target.closest('.footer-menu__toggle') < 1) return;\r\n        let menu = e.target.closest('.footer-menu');\r\n        if (!menu.classList.contains('is-open')) {\r\n            e.preventDefault();\r\n            menu.classList.add('is-open');\r\n        }\r\n    })\r\n});","//map-block\r\nclass MapBlock {\r\n    constructor(context) {\r\n        this.context = context;\r\n        this.map = null;\r\n        this.collection = null;\r\n\r\n        this.init = this.init.bind(this);\r\n        this.createMap = this.createMap.bind(this);\r\n        this.defaultPlacemarking = this.defaultPlacemarking.bind(this);\r\n        this.initBlockAPI = this.initBlockAPI.bind(this);\r\n        this.initToggle = this.initToggle.bind(this);\r\n        this.setPlacemark = this.setPlacemark.bind(this);\r\n    }\r\n    init() {\r\n        this.createMap();\r\n        this.defaultPlacemarking(this.context.querySelectorAll('.map-block__place'));\r\n        this.initBlockAPI();\r\n        this.initToggle();\r\n    }\r\n    initToggle() {\r\n        let self = this;\r\n        self.context.dataset.activeTab = this.context.querySelector('input[name=\"map-switch\"]:checked').value;\r\n        this.context.querySelectorAll('input[name=\"map-switch\"]').forEach(function(switcher) {\r\n            switcher.addEventListener('change', function(){\r\n                self.context.dataset.activeTab = self.context.querySelector('input[name=\"map-switch\"]:checked').value;\r\n            });\r\n        })\r\n    }\r\n    createMap(){\r\n        this.map = new ymaps.Map(\"map\", {\r\n            center: [55.76, 37.64],\r\n            zoom: 7,\r\n            controls: ['smallMapDefaultSet']\r\n        });\r\n        this.map.behaviors.disable('scrollZoom');\r\n        this.collection = new ymaps.GeoObjectCollection();\r\n    }\r\n    defaultPlacemarking(marks) {\r\n        let self = this;\r\n        marks.forEach(function(mark) {\r\n            let coordsArray = mark.dataset.coords.split(',')\r\n            self.setPlacemark({\r\n                placeInfo: mark.innerHTML,\r\n                coords: coordsArray,\r\n                coordsRaw: mark.dataset.coords,\r\n                color: mark.dataset.color,\r\n            });\r\n        });\r\n\r\n        this.map.geoObjects.add(this.collection);\r\n        this.map.setBounds(this.collection.getBounds(), {checkZoomRange:true, zoomMargin:100});\r\n    }\r\n    setPlacemark(mark) {\r\n        let self = this;\r\n        let element = this.context.querySelector('.map-block__place[data-coords=\"'+mark.coordsRaw+'\"]');\r\n        let placemark = new ymaps.Placemark(\r\n            [parseFloat(mark.coords[0]), parseFloat(mark.coords[1])],\r\n            {\r\n                balloonContent: mark.placeInfo,\r\n            },\r\n            {\r\n                iconColor: mark.color,\r\n                balloonOffset: [0, -58],\r\n                hideIconOnBalloonOpen: false,\r\n            }\r\n        );\r\n        this.collection.add(placemark);\r\n\r\n        element.addEventListener('click', function () {\r\n            self.context.querySelectorAll('.map-block__place').forEach(function(placeItem) {\r\n                placeItem.classList.remove('is-active');\r\n            });\r\n            element.classList.add('is-active');\r\n            if (!placemark.balloon.isOpen()) {\r\n                placemark.balloon.open();\r\n            } else {\r\n                placemark.balloon.close();\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    initBlockAPI() {\r\n        let self = this;\r\n        this.context.addEventListener('resize.block', function(event) {\r\n            setTimeout(function() {\r\n                if (self.map !== undefined) self.map.container.fitToViewport(true);\r\n            }, 200);\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.context.addEventListener('setPlacemark.block', function(event, mark) {\r\n            self.setPlacemark(mark);\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.context.addEventListener('setCenter.block', function(event, center, zoom) {\r\n            self.map.setCenter(center, zoom, {\r\n                duration: 600\r\n            });\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.context.addEventListener('destroy.block', function(event) {\r\n            if (self.map !== undefined) self.map.destroy();\r\n            event.stopPropagation();\r\n        });\r\n    }\r\n}\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    document.querySelectorAll('.map-block').forEach(function(context) {\r\n        let mapBlock = new MapBlock(context);\r\n        ymaps.ready(mapBlock.init);\r\n    });\r\n});\r\n","//page-header\nfunction fixedHeaderfix() {\n    let headerHeight = document.querySelector('.page-header').clientHeight;\n    document.body.style.paddingTop = headerHeight + 'px';\n}\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n    let currentScroll = 0;\n    fixedHeaderfix();\n    document.addEventListener('click', function(e) {\n        if (e.target.closest('.page-header__toggle') < 1) return;\n        let menu = e.target.closest('.page-header');\n        menu.classList.toggle('is-menu-open');\n        if (!document.body.classList.contains('is-fixed')) {\n            currentScroll = window.pageYOffset;\n            document.body.classList.add('is-fixed');\n        } else {\n            document.body.classList.remove('is-fixed');\n            window.scroll(0, currentScroll);\n        }\n    });\n});\nwindow.addEventListener('resize', function(event) {\n    fixedHeaderfix();\n});","document.addEventListener(\"DOMContentLoaded\", function(){\r\n    let searchLine = document.querySelectorAll('.search-line__input');\r\n    searchLine.forEach(function(line) {\r\n        if (window.innerWidth < 1025 && line.dataset.placeholderMobile) {\r\n            line.setAttribute('placeholder', line.dataset.placeholderMobile);\r\n        }\r\n    });\r\n});","//specials\r\n$(function() {\r\n    $('.specials__tab').each(function() {\r\n        let $context = $(this);\r\n        let $slider = $('.specials__list', $context);\r\n        let options = {\r\n            infinite: false,\r\n            dots: true,\r\n            mobileFirst: true,\r\n            prevArrow: $('.specials__slider-arrow.button_prev', $context),\r\n            nextArrow: $('.specials__slider-arrow.button_next', $context),\r\n            appendDots: $('.specials__slider-pages', $context),\r\n            responsive: [{\r\n                breakpoint: 1025,\r\n                settings: {\r\n                    slidesToShow: 3,\r\n                }\r\n            }, {\r\n                breakpoint: 600,\r\n                settings: {\r\n                    slidesToShow: 2,\r\n                }\r\n\r\n            }, {\r\n                breakpoint: 300,\r\n                settings: {\r\n                    slidesToShow: 1\r\n                }\r\n            }\r\n            ]\r\n        };\r\n        function sliderGridFix() {\r\n            let parentWidth = $slider.closest('.specials__content').width();\r\n            let sliderListWidth = window.innerWidth>1024?parentWidth:parentWidth-65;\r\n            $slider.width(sliderListWidth);\r\n        }\r\n\r\n        $slider.on('init', function() {\r\n            sliderGridFix();\r\n        });\r\n        $slider.slick(options);\r\n\r\n        window.addEventListener('resize', function(event) {\r\n            sliderGridFix();\r\n        });\r\n\r\n        window.addEventListener('tabActivation', function(event) {\r\n            $slider.slick('setPosition')\r\n        });\r\n    });\r\n});","//steps\r\n$(function() {\r\n    function initSteps($slider, $context, options) {\r\n        $slider.on(\"init afterChange\", function(event, slick, currentSlide){\r\n            $(\".steps__current-number\", $context).text(parseInt(slick.currentSlide + 1));\r\n            $(\".steps__total-number\", $context).text(slick.slideCount);\r\n        });\r\n        $slider.slick(options);\r\n    }\r\n    $('.steps').each(function() {\r\n        let $context = $(this);\r\n        let $slider = $('.steps__list', $context);\r\n        let options = {\r\n            infinite: false,\r\n            dots: false,\r\n            mobileFirst: true,\r\n            prevArrow: $('.steps__slider-arrow.button_prev', $context),\r\n            nextArrow: $('.steps__slider-arrow.button_next', $context),\r\n            responsive: [{\r\n                breakpoint: 769,\r\n                settings: \"unslick\"\r\n\r\n            }, {\r\n\r\n                breakpoint: 483,\r\n                settings: {\r\n                    slidesToShow: 2,\r\n                }\r\n\r\n            }, {\r\n\r\n                breakpoint: 300,\r\n                settings: {\r\n                    slidesToShow: 1\r\n                }\r\n\r\n            }\r\n            ]\r\n        };\r\n        if (window.innerWidth < 1025) {\r\n            initSteps($slider, $context, options);\r\n        }\r\n        $(window).on('resize', function() {\r\n            if (!$slider.is('.slick-initialized') && (window.innerWidth < 1025)) {\r\n                initSteps($slider, $context, options);\r\n            }\r\n        });\r\n    });\r\n});","//tabs-links\r\nconst tabsEvent = new Event('tabActivation');\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    document.addEventListener('click', function(e) {\r\n        let tabLink = e.target.closest('.tabs-links a');\r\n        let tabsHolder = e.target.closest('.tabs-holder');\r\n        if (!(tabLink && tabsHolder)) return;\r\n        let targetTab = tabsHolder.querySelector(tabLink.dataset.target);\r\n        tabsHolder.querySelector('.tab.is-active').classList.remove('is-active');\r\n        tabLink.closest('.tabs-links').querySelector('a.is-active').classList.remove('is-active');\r\n        tabLink.classList.add('is-active');\r\n        targetTab.classList.add('is-active');\r\n        window.dispatchEvent(tabsEvent);\r\n    })\r\n});","//top-menu\r\ndocument.addEventListener(\"DOMContentLoaded\", function(){\r\n    document.addEventListener('click', function(e) {\r\n        let parentMenu = e.target.closest('.top-menu__menu-item.is-parent');\r\n        let submenuItem = e.target.closest('.top-menu__submenu-item');\r\n        if (parentMenu && !submenuItem  && window.innerWidth < 1025 ) {\r\n            e.preventDefault();\r\n            parentMenu.closest('.top-menu').classList.toggle('hide-inactive');\r\n            parentMenu.classList.toggle('is-open');\r\n        }\r\n    })\r\n});","//types-block\r\n"]}